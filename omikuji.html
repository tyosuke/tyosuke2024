<!DOCTYPE html>
<html>
<head>
	<title>おみくじアプリ</title>
</head>
<body>
	<h1>おみくじアプリ</h1>
	<p>あなたの今日の運勢を占います</p>
	<button onclick="omikuji()">占う！</button>
	<p id="fortune"></p>
	<p id="rating"></p>

	<script type="text/javascript">
		function omikuji(){
			var fortuneList = ["大吉", "吉", "中吉", "小吉", "末吉", "凶", "大凶"];
			var ratingList = ["金運", "恋愛運", "仕事運", "全体運", "chatGPT運"];

			var fortuneIndex = Math.floor(Math.random() * fortuneList.length);
			var ratingIndex = Math.floor(Math.random() * ratingList.length);
			var ratingValue = Math.floor(Math.random() * 10) + 1;

			var fortune = fortuneList[fortuneIndex];
			var rating = ratingList[ratingIndex];

			document.getElementById("fortune").innerHTML = "今日の運勢は【" + fortune + "】です。";
			document.getElementById("rating").innerHTML = "今日の" + rating + "の評価は【" + ratingValue + "】" + generateRating(ratingValue) + "です。";
		}

		function generateRating(value){
			var ratingString = "";
			if(value < 5){
				for(var i = 0; i < value; i++){
					ratingString += "★";
				}
			}
			else{
				for(var i = 0; i < value; i++){
					ratingString += "★★";
				}
			}
			return ratingString;
		}
	</script>
</body>
</html>